{% extends 'base.html' %}
{% load staticfiles %}

{% block styles %}
{{block.super}}
<!-- Latest compiled and minified CSS -->

<link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/css/ol.css"
  type="text/css">

<link rel="stylesheet" type="text/css" href="{% static 'shape/css/dashboard.min.css' %}" />

{% endblock styles %}

{% block page_header %}
<div class="container display-4">
  Tableaux de bord des analyses
</div>
{% endblock page_header %}

{% block body %}

<img id="preloader" src="{% static 'img/preloader.svg' %}">
<div class="d-line-flex p-2">

  <div class="col-sm-3">
    <button type="button" class="btn btn-lg"><a href="{% url 'shape:presentation' %}">
        <span class="fa fa-search" aria-hidden="true"></span> En savoir plus
  </div>
  </a></bouton>
  <div class="col-sm-3 px-2">
    <select class="col-sm-12" id="shape_select"></select>
  </div>

</div>



<div class="card-deck p-4">
  {% if graph_list %}

  {% for graph in graph_list %}

  <div id="{{graph.name}}" class="w-{{graph.height}} p-3">
    <div class="card">
      <div class="card-header">{{graph.title|capfirst}}</div>
      <div class="card-body {{graph.model}}">
        <div id="{{graph.model}}" class="d3_panel graph"></div>
        <div id="{{graph.model}}Legend" class="d3_panel"></div>
      </div>


    </div>
  </div>

  {% endfor %}
  {% else %}
  <p>Aucun graphe.</p>
  {% endif %}
</div>


{% endblock body %}

{% block scripts %}
{{ block.super }}


<!-- Latest compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.1.1/build/ol.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.7/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.6/d3-legend.min.js"></script>

<script src="{% static 'shape/js/main.min.js' %}"></script>
{% endblock scripts %}